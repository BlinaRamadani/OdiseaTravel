<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Odisea Travel</title>
    <link rel="stylesheet" href="Book.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>

        <div class="logo">
            <h1>Odisea Travel</h1>
        </div>
        <nav>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="AboutUs.html">About Us</a></li>
                <li><a href="seemore.html">Booking</a></li>
                <li><a href="contactus.html">Contact Us</a></li>
            </ul>
            <div class="search-container">
                <input type="text" id="searchInput" class="search-input" placeholder="Search..." onkeyup="performSearch()">
                <button class="search-button" onclick="performSearch()">
                    <img src="https://cdn-icons-png.flaticon.com/512/622/622669.png" alt="Search">
                </button>
                <div id="searchResults" class="results"></div>
            </div>
            <ul class="nav-links">
                <li><a href="#"><i class="fa-solid fa-user"></i></a></li>
            </ul>
            <ul class="nav-links">
                <li><a href="#"><i class="fa-solid fa-plane-departure"></i></a></li>
            </ul>
        </nav>
    </header>

    <section id="booking">
        <h2>Plan Your Trip</h2>
        <form class="booking-form">
            
            <div class="input__group">
                <label for="activity">You are planning a trip to:</label>
                <p>Rugova Canyon</p>
            </div>
            

            <div class="input__group">
                <label for="activity">Select an Activity</label>
                <select id="activity">
                    <option>Mountain Climbing</option>
                    <option>Rafting</option>
                    <option>Visit to the Ruins</option>
                    <option>Horseback Riding</option>
                </select>
            </div>
            
            <div class="input__group">
                <label for="persons">Number of Persons</label>
                <input type="number" id="persons" min="1" value="1">
            </div>
    
            <div class="input__group">
                <label for="date">Select Date</label>
                <input type="date" id="date">
            </div>
    
            <div class="input__group">
                <label for="guide">Guide Service</label>
                <select id="guide">
                    <option value="yes">Yes, I need a guide</option>
                    <option value="no">No, I will explore myself</option>
                </select>
            </div>
    
            <div class="input__group">
                <label for="transport">Transportation</label>
                <select id="transport">
                    <option value="self">I will arrange my own transport</option>
                    <option value="agency">Use agency transport</option>
                </select>
            </div>
            <div class="input__group">
                <label for="payment">Payment Method</label>
                <div class="payment-select">
                    <select id="payment" onchange="changeIcon()">
                        <option value="card" data-icon="fa-credit-card">Credit/Debit Card</option>
                        <option value="paypal" data-icon="fa-brands fa-paypal">PayPal</option>
                        <option value="cash" data-icon="fa-solid fa-money-bills">Cash</option>
                    </select>
                    <i id="payment-icon" class="fa-solid fa-credit-card"></i> 
                </div>
            </div>
            
    
            <h3>Additional Services</h3>
    
            <div class="extra-services">
                <a href="flight.html" class="btn service-btn">
                    Book a Flight
                </a>
    
                <a href="hotels.html" class="btn service-btn" onclick="bookHotel()">
                    Find a Hotel
                </a>
                
    
                <a href="car.html" class="btn service-btn" onclick="bookcar()">
                    Rent a Car
                </a>
            </div>
    
            <button class="btn book-btn">Confirm Booking</button>
        </form>
    </section>
    


    <footer>
        <div class="footer-content">
            <div class="footer-section about">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="AboutUs.html">About Us</a></li>
                    <li><a href="seemore.html">Booking</a></li>
                    <li><a href="contactus.html">Contact Us</a></li>
                </ul>
            </div>
            <div class="footer-section links">
                <h3>About Odisea Travel</h3>
                <p>Your one-stop destination for unforgettable travel experiences and adventures across Kosovo.</p>
            </div>
            <div class="footer-section social">
                <h3>Follow Us</h3>
                <a href="https://facebook.com" target="_blank">
                    <i class="fa-brands fa-facebook" aria-hidden="true" style="color:#d6c0b3;" ></i>
                </a>
                <a href="https://twitter.com/" target="_blank">
                    <i class="fa-brands fa-twitter" aria-hidden="true" style="color:#d6c0b3;"></i>
                </a>
                <a href="https://www.instagram.com/" target="_blank">
                    <i class="fa-brands fa-instagram" aria-hidden="true" style="color:#d6c0b3;"></i>
                    
                </a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Odisea Travel | All rights reserved</p>
        </div>
    </footer>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let hotelButton = document.querySelector(".extra-services .service-btn[href='hotels.html']");
    
            if (hotelButton) { 
                if (localStorage.getItem("hotelBooked") === "true") {
                    hotelButton.style.backgroundColor = "#ff5733"; 
                    hotelButton.textContent = "Hotel Booked"; 
                }
            }
        });
    
        function bookHotel() {
            localStorage.setItem("hotelBooked", "true"); 
        }
    </script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        let bookButton = document.querySelector(".extra-services .service-btn[href='car.html']");

        if (bookButton) { 
            if (localStorage.getItem("bookingConfirmed") === "true") {
                console.log("Booking detected! Changing button."); 
                bookButton.style.backgroundColor = "#ff5733"; 
                bookButton.textContent = "Booking Confirmed"; 
            }
        }
    });

    function bookNow() {
        localStorage.setItem("bookingConfirmed", "true"); 
    }


    // Add this to handle form submission
document.querySelector('.booking-form').addEventListener('submit', function(e) {
    e.preventDefault();
    
    // Collect form data
    const bookingData = {
        destination: "Rugova Canyon",
        activity: document.getElementById('activity').value,
        persons: document.getElementById('persons').value,
        date: document.getElementById('date').value,
        guide: document.getElementById('guide').value,
        transport: document.getElementById('transport').value,
        payment: document.getElementById('payment').value,
        services: {
            flight: localStorage.getItem('flightBooked') === "true",
            hotel: localStorage.getItem('hotelBooked') === "true",
            car: localStorage.getItem('bookingConfirmed') === "true"
        }
    };

    // Store data and redirect
    localStorage.setItem('currentBooking', JSON.stringify(bookingData));
    window.location.href = 'confirmation.html';
});

// Update payment icon function
function changeIcon() {
    const payment = document.getElementById('payment');
    const icon = document.getElementById('payment-icon');
    const selected = payment.options[payment.selectedIndex];
    icon.className = selected.getAttribute('data-icon');
}

// Initialize date input
document.getElementById('date').min = new Date().toISOString().split('T')[0];
</script>

    
    <script src="main.js"></script>
</body>
</html>